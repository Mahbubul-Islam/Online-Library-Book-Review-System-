<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>{% block title %}Online Library{% endblock %}</title>
		<!-- Tailwind CSS -->
		<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
		<!-- Font Awesome -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
		<style type="text/tailwindcss">
			@theme {
				--color-primary-dark: #1b3c53;
				--color-primary: #234c6a;
				--color-secondary: #456882;
				--color-accent: #d2c1b6;
			}

			@layer utilities {
				.book-card {
					@apply transition-transform duration-200;
				}
				.book-card:hover {
					@apply -translate-y-1 shadow-lg;
				}
			}
		</style>
		{% block extra_css %}{% endblock %}
	</head>
	<body class="min-h-screen flex flex-col" style="background-color: #f8f5f2">
		<!-- Navigation Bar -->
		<nav class="text-white shadow-lg" style="background-color: #234c6a">
			<div class="container mx-auto px-4">
				<div class="flex justify-between items-center py-4">
					<a
						href="{% url 'home' %}"
						class="text-2xl font-bold transition"
						style="color: #d2c1b6"
						onmouseover="this.style.color='#e8ddd2'"
						onmouseout="this.style.color='#d2c1b6'">
						<i class="fas fa-book"></i> Online Library
					</a>

					<!-- Mobile menu button -->
					<button
						id="mobile-menu-button"
						class="md:hidden text-white focus:outline-none">
						<i class="fas fa-bars text-2xl"></i>
					</button>

					<!-- Desktop Navigation -->
					<ul class="hidden md:flex space-x-6 items-center">
						<li>
							<a href="{% url 'home' %}" class="hover:opacity-80 transition">
								<i class="fas fa-home"></i> Home
							</a>
						</li>
						{% if user.is_authenticated %}
						<li style="color: #d2c1b6">
							<i class="fas fa-user"></i> {{ user.username }}
						</li>
						{% if user.is_staff %}
						<li>
							<a href="/admin/" class="hover:opacity-80 transition">
								<i class="fas fa-cog"></i> Admin Panel
							</a>
						</li>
						{% endif %}
						<li>
							<a
								href="{% url 'logout' %}"
								class="px-4 py-2 rounded transition"
								style="background-color: #1b3c53"
								onmouseover="this.style.backgroundColor='#152e3f'"
								onmouseout="this.style.backgroundColor='#1b3c53'">
								<i class="fas fa-sign-out-alt"></i> Logout
							</a>
						</li>
						{% else %}
						<li>
							<a href="{% url 'login' %}" class="hover:opacity-80 transition">
								<i class="fas fa-sign-in-alt"></i> Login
							</a>
						</li>
						<li>
							<a
								href="{% url 'register' %}"
								class="px-4 py-2 rounded transition"
								style="background-color: #456882"
								onmouseover="this.style.backgroundColor='#567a96'"
								onmouseout="this.style.backgroundColor='#456882'">
								<i class="fas fa-user-plus"></i> Register
							</a>
						</li>
						{% endif %}
					</ul>
				</div>

				<!-- Mobile Navigation -->
				<ul id="mobile-menu" class="hidden md:hidden pb-4 space-y-2">
					<li>
						<a
							href="{% url 'home' %}"
							class="block hover:opacity-80 transition py-2">
							<i class="fas fa-home"></i> Home
						</a>
					</li>
					{% if user.is_authenticated %}
					<li class="py-2" style="color: #d2c1b6">
						<i class="fas fa-user"></i> {{ user.username }}
					</li>
					{% if user.is_staff %}
					<li>
						<a href="/admin/" class="block hover:opacity-80 transition py-2">
							<i class="fas fa-cog"></i> Admin Panel
						</a>
					</li>
					{% endif %}
					<li>
						<a
							href="{% url 'logout' %}"
							class="block px-4 py-2 rounded transition"
							style="background-color: #1b3c53"
							onmouseover="this.style.backgroundColor='#152e3f'"
							onmouseout="this.style.backgroundColor='#1b3c53'">
							<i class="fas fa-sign-out-alt"></i> Logout
						</a>
					</li>
					{% else %}
					<li>
						<a
							href="{% url 'login' %}"
							class="block hover:opacity-80 transition py-2">
							<i class="fas fa-sign-in-alt"></i> Login
						</a>
					</li>
					<li>
						<a
							href="{% url 'register' %}"
							class="block px-4 py-2 rounded transition mt-2"
							style="background-color: #456882"
							onmouseover="this.style.backgroundColor='#567a96'"
							onmouseout="this.style.backgroundColor='#456882'">
							<i class="fas fa-user-plus"></i> Register
						</a>
					</li>
					{% endif %}
				</ul>
			</div>
		</nav>

		<!-- Messages -->
		{% if messages %}
		<div class="container mx-auto px-4 mt-4">
			{% for message in messages %}
			<div
				class="{% if message.tags == 'error' %}bg-red-100 border-red-400 text-red-700{% elif message.tags == 'success' %}bg-green-100 border-green-400 text-green-700{% elif message.tags == 'warning' %}bg-yellow-100 border-yellow-400 text-yellow-700{% else %}bg-blue-100 border-blue-400 text-blue-700{% endif %} border px-4 py-3 rounded relative mb-4"
				role="alert">
				<span class="block sm:inline">{{ message }}</span>
				<button
					onclick="this.parentElement.remove()"
					class="absolute top-0 bottom-0 right-0 px-4 py-3">
					<i class="fas fa-times"></i>
				</button>
			</div>
			{% endfor %}
		</div>
		{% endif %}

		<!-- Main Content -->
		<div class="flex-1">{% block content %} {% endblock %}</div>

		<!-- Footer -->
		<footer class="py-6 mt-auto" style="background-color: #d2c1b6">
			<div class="container mx-auto px-4 text-center">
				<p style="color: #1b3c53" class="font-semibold">
					&copy; 2025 Online Library. All rights reserved.
				</p>
				<p style="color: #234c6a" class="text-sm">
					An Online Book Review System
				</p>
			</div>
		</footer>

		<!-- Mobile menu toggle script -->
		<script>
			document
				.getElementById("mobile-menu-button")
				?.addEventListener("click", function () {
					const menu = document.getElementById("mobile-menu");
					menu.classList.toggle("hidden");
				});
		</script>
		{% block extra_js %}{% endblock %}
	</body>
</html>
